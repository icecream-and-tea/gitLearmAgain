.ORIG  x3000
LD R5,MODNUM
ADD R1, R1, #1 ;F[0] = 1
ADD R2, R2, #1 ;F[1] = 1
ADD R3, R3, #2 ;F[2] = 2
ADD R0,R0,#-2
BRNZ JUMP
LOOP
ADD R4,R1,R1
ADD R7,R4,R3
AND R7,R7,R5
ADD R1,R2,#0
ADD R2,R3,#0
ADD R3,R7,#0
ADD R0,R0,#-1
BRNP LOOP
HALT
JUMP ADD R0,R0,#1
BRN ZERO
ADD R7,R0,#1
HALT
ZERO ADD R7,R0,#2
HALT
MODNUM .FILL #1023
F(20) .FILL #930
F(5) .FILL #10
F(10) .FILL #146
F(45) .FILL #902
.END